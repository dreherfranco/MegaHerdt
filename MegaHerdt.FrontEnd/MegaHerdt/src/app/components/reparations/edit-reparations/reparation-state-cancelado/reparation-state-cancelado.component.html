<div class="m-3">
    <div class="input-group mb-3 w-25 searcher col-md-8">
        <div class="input-group-prepend">
        <div class="input-group-text lens">
            <i class="bi bi-search"></i>
        </div>
        </div>
        <input class="form-control w-50" type="text" [(ngModel)]="searchText" placeholder="Buscar reparaciones">
    </div>
</div>
<div class="table-responsive p-1" *ngIf="reparations.length > 0">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Email empleado</th>
                <th scope="col">Email cliente</th>
                <th scope="col">Fecha</th>
                <th scope="col">Estado</th>
                <th scope="col">Descripcion del servicio requerido segun el cliente</th>
                <th scope="col">Observacion del Empleado</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let reparation of reparations 
            | filter: searchText
            | paginate: 
            {
                itemsPerPage: this.paginate.recordsPerPage, 
                currentPage:this.paginate.page
            }; 
            let i = index">
                <th>
                    <span class="data-user">{{ reparation.employee.email }}</span>
                </th>
                <th>
                    <span class="data-user">{{ reparation.client.userName }}</span>
                </th>      
                <th>
                    <span class="data-user">{{reparation.date | date: 'dd/MM/yyyy'}} </span>
                </th>
                <th>
                    <span class="data-user">{{ reparation.reparationState.name }}</span>
                </th>        
                <th>
                    <span *ngIf="reparation.clientDescription === '' " class="text-secondary">No existe descripción</span>
                    <span class="data-user">{{ reparation.clientDescription }}</span>
                </th>
                <th>
                    <span *ngIf="reparation.employeeObservation === '' " class="text-secondary">No existe observación</span>
                    <span class="data-user">{{ reparation.employeeObservation }}</span>
                </th>
            </tr>

        </tbody>

    </table>
    <pagination-controls class="text-center data-user" (pageChange)="this.paginate.page = $event"
        previousLabel="Anterior" nextLabel="Siguiente" *ngIf="reparations.length > 2">
    </pagination-controls>
</div>
<p class="alert alert-warning m-2 w-50 mx-auto" *ngIf="reparations.length === 0"><i class="bi bi-exclamation-circle-fill"></i> No existen reparaciones en este estado</p>