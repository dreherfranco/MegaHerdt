<div class="bg-light">
  <div class="d-flex">
    <h2 class="mx-auto">LISTADO DE DEUDORES
      <button class="btn btn-dark padding-custom" (click)="generatePDF()">
        <i class="bi bi-filetype-pdf"></i>
      </button>
    </h2>
  </div>
  <div class="d-flex row w-75 mx-auto">
    <div class="col-md-10 pl-0" >
        <div class="col-md-4" *ngIf="reparationDebtsSortedData.length > 0">
            <div class="input-group">
              <div class="input-group-append">
                  <div class="input-group-text bg-primary">
                    <i class="bi bi-search text-white"></i>
                  </div>
                </div>
              <input class="form-control w-75" type="text" [(ngModel)]="searchText" placeholder="Buscar provisiones">
            </div>
        </div>
    </div>
  </div>
</div>
<div class="table-responsive w-75 text-center mx-auto">
  <table matSort (matSortChange)="sortData($event)" class="table">
    <thead>
      <tr>
        <th mat-sort-header="clientUsername" scope="col">Identificador del deudor</th>
        <th mat-sort-header="name" scope="col">Nombre</th>
        <th mat-sort-header="surname"  scope="col">Apellido</th>
        <th mat-sort-header="dni" scope="col">Dni</th>
        <th mat-sort-header="total" scope="col">Total</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let reparationDebt of reparationDebtsSortedData | filter: searchText | paginate: 
      {
          itemsPerPage: this.paginate.recordsPerPage, 
          currentPage:this.paginate.page
      }; 
      let i = index">
        <td>
          <span class="data-user">{{ reparationDebt.clientUserName }}</span>
        </td>
        <td>
          <span class="data-user">{{ reparationDebt.clientName }}</span>
        </td>
        <td>
          <span class="data-user">{{ reparationDebt.clientSurname }}</span>
        </td>
        <td>
          <span class="data-user">{{ reparationDebt.clientDni }}</span>
        </td>
        <td>
          <span class="data-user">{{ reparationDebt.total }}</span>
        </td>
      </tr>
    </tbody>
  </table>
  <pagination-controls
    class="text-center data-user"
    (pageChange)="this.paginate.page = $event"
    previousLabel="Anterior"
    nextLabel="Siguiente"
    *ngIf="reparationDebtsSortedData.length > 6"
  >
  </pagination-controls>
</div>
